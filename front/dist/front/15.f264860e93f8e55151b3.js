(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{jIHw:function(t,n,e){"use strict";e.d(n,"a",(function(){return m})),e.d(n,"b",(function(){return g})),e.d(n,"c",(function(){return p}));var i=e("fXoL"),c=e("YyRF"),s=e("ofXK"),o=e("Q4Mo"),a=e("7zfz");function l(t,n){1&t&&i.Nb(0)}const r=function(t,n,e,i){return{"p-button-icon":!0,"p-button-icon-left":t,"p-button-icon-right":n,"p-button-icon-top":e,"p-button-icon-bottom":i}};function b(t,n){if(1&t&&i.Mb(0,"span",4),2&t){const t=i.bc();i.Bb(t.icon),i.ic("ngClass",i.oc(4,r,"left"===t.iconPos&&t.label,"right"===t.iconPos&&t.label,"top"===t.iconPos&&t.label,"bottom"===t.iconPos&&t.label)),i.Ab("aria-hidden",!0)}}function d(t,n){if(1&t&&(i.Rb(0,"span",4),i.Fc(1),i.Qb()),2&t){const t=i.bc();i.Bb(t.badgeClass),i.ic("ngClass","p-badge"),i.zb(1),i.Gc(t.badge)}}const u=function(t,n){return{"p-button p-component":!0,"p-button-icon-only":t,"p-button-vertical":n}},h=["*"];let g=(()=>{class t{constructor(t){this.el=t,this.iconPos="left"}ngAfterViewInit(){if(this._initialStyleClass=this.el.nativeElement.className,c.b.addMultipleClasses(this.el.nativeElement,this.getStyleClass()),this.icon){let t=document.createElement("span");t.className="p-button-icon",t.setAttribute("aria-hidden","true");let n=this.label?"p-button-icon-"+this.iconPos:null;n&&c.b.addClass(t,n),c.b.addMultipleClasses(t,this.icon),this.el.nativeElement.appendChild(t)}let t=document.createElement("span");this.icon&&!this.label&&t.setAttribute("aria-hidden","true"),t.className="p-button-label",t.appendChild(document.createTextNode(this.label||"&nbsp;")),this.el.nativeElement.appendChild(t),this.initialized=!0}getStyleClass(){let t="p-button p-component";return this.icon&&!this.label&&(t+=" p-button-icon-only"),t}setStyleClass(){let t=this.getStyleClass();this.el.nativeElement.className=t+" "+this._initialStyleClass}get label(){return this._label}set label(t){this._label=t,this.initialized&&(c.b.findSingle(this.el.nativeElement,".p-button-label").textContent=this._label||"&nbsp;",this.setStyleClass())}get icon(){return this._icon}set icon(t){this._icon=t,this.initialized&&(c.b.findSingle(this.el.nativeElement,".p-button-icon").className=this.iconPos?"p-button-icon p-button-icon-"+this.iconPos+" "+this._icon:"p-button-icon "+this._icon,this.setStyleClass())}ngOnDestroy(){this.initialized=!1}}return t.\u0275fac=function(n){return new(n||t)(i.Lb(i.l))},t.\u0275dir=i.Gb({type:t,selectors:[["","pButton",""]],inputs:{iconPos:"iconPos",label:"label",icon:"icon"}}),t})(),m=(()=>{class t{constructor(){this.type="button",this.iconPos="left",this.onClick=new i.n,this.onFocus=new i.n,this.onBlur=new i.n}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"content":default:this.contentTemplate=t.template}})}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=i.Fb({type:t,selectors:[["p-button"]],contentQueries:function(t,n,e){var c;1&t&&i.Eb(e,a.h,!1),2&t&&i.uc(c=i.Zb())&&(n.templates=c)},inputs:{type:"type",iconPos:"iconPos",icon:"icon",badge:"badge",label:"label",disabled:"disabled",style:"style",styleClass:"styleClass",badgeClass:"badgeClass"},outputs:{onClick:"onClick",onFocus:"onFocus",onBlur:"onBlur"},ngContentSelectors:h,decls:7,vars:14,consts:[["pRipple","",3,"ngStyle","disabled","ngClass","click","focus","blur"],[4,"ngTemplateOutlet"],[3,"ngClass","class",4,"ngIf"],[1,"p-button-label"],[3,"ngClass"]],template:function(t,n){1&t&&(i.hc(),i.Rb(0,"button",0),i.Yb("click",(function(t){return n.onClick.emit(t)}))("focus",(function(t){return n.onFocus.emit(t)}))("blur",(function(t){return n.onBlur.emit(t)})),i.gc(1),i.Dc(2,l,1,0,"ng-container",1),i.Dc(3,b,1,9,"span",2),i.Rb(4,"span",3),i.Fc(5),i.Qb(),i.Dc(6,d,2,4,"span",2),i.Qb()),2&t&&(i.Bb(n.styleClass),i.ic("ngStyle",n.style)("disabled",n.disabled)("ngClass",i.mc(11,u,n.icon&&!n.label,("top"===n.iconPos||"bottom"===n.iconPos)&&n.label)),i.Ab("type",n.type),i.zb(2),i.ic("ngTemplateOutlet",n.contentTemplate),i.zb(1),i.ic("ngIf",n.icon),i.zb(1),i.Ab("aria-hidden",n.icon&&!n.label),i.zb(1),i.Gc(n.label||"\xa0"),i.zb(1),i.ic("ngIf",n.badge))},directives:[o.a,s.n,s.k,s.r,s.m],encapsulation:2,changeDetection:0}),t})(),p=(()=>{class t{}return t.\u0275mod=i.Jb({type:t}),t.\u0275inj=i.Ib({factory:function(n){return new(n||t)},imports:[[s.c,o.b]]}),t})()},oO5j:function(t,n,e){"use strict";e.r(n),e.d(n,"LandingsModule",(function(){return q}));var i=e("ofXK"),c=e("tyNb"),s=e("33Jv"),o=e("XIp8");class a{constructor(){this.dest="",this.fromname="",this.from="",this.subject="",this.type="",this.successMessage="",this.data={}}}var l=e("AytR"),r=e("rPfT"),b=e("fXoL"),d=e("FQVY"),u=e("7mqn"),h=e("tTR6"),g=e("/RsI"),m=e("eO1q");function p(t,n){if(1&t&&(b.Rb(0,"div",9),b.Mb(1,"img",10),b.Qb()),2&t){const t=b.bc(2);b.zb(1),b.ic("width",t.landing.widthLogo)("src",t.landing.logoURL,b.yc)}}function f(t,n){1&t&&(b.Rb(0,"span",16),b.Fc(1,"No coincide"),b.Qb())}const v=function(t){return{invalid:t}};function w(t,n){if(1&t){const t=b.Sb();b.Pb(0),b.Rb(1,"div",11),b.Rb(2,"div",12),b.Rb(3,"label",13),b.Fc(4),b.Qb(),b.Rb(5,"input",14),b.Yb("keyup",(function(n){return b.wc(t),b.bc(2).validateRut(n.target.value)})),b.Qb(),b.Dc(6,f,2,0,"span",15),b.Qb(),b.Qb(),b.Ob()}if(2&t){const t=b.bc(2);b.zb(4),b.Hc("Ingrese los ",t.landing.validationRutDigits," primeros d\xedgitos de su RUT"),b.zb(1),b.ic("ngClass",b.lc(3,v,t.invalidRut)),b.zb(1),b.ic("ngIf",t.invalidRut)}}function y(t,n){if(1&t){const t=b.Sb();b.Rb(0,"div",27),b.Rb(1,"img",28),b.Yb("click",(function(){b.wc(t);const n=b.bc().$implicit;return b.bc(3).redirect(n.redirect)})),b.Qb(),b.Qb()}if(2&t){const t=b.bc().$implicit;b.zb(1),b.Bb(t.class),b.jc("width",t.width),b.ic("src",t.src,b.yc)("alt",t.name)}}const C=function(t,n,e){return{"font-size":t,"font-weight":n,color:e}};function R(t,n){if(1&t&&(b.Rb(0,"div",27),b.Rb(1,"p"),b.Fc(2),b.Qb(),b.Qb()),2&t){const t=b.bc().$implicit,n=b.bc(3);b.zb(1),b.Bc(b.nc(6,C,t.fontSize+"pt",t.fontWeight,t.color)),b.Cb("",t.class," text-center"),b.zb(1),b.Gc(n.getText(t.text))}}const D=function(t,n,e,i,c,s,o,a){return{"font-size":t,"font-weight":n,color:e,"background-color":i,width:c,height:s,"border-width":o,"border-color":a,"border-style":"solid"}};function S(t,n){if(1&t){const t=b.Sb();b.Rb(0,"div",29),b.Rb(1,"button",30),b.Yb("click",(function(){b.wc(t);const n=b.bc().$implicit;return b.bc(3).redirectButton(n)})),b.Fc(2),b.Qb(),b.Qb()}if(2&t){const t=b.bc().$implicit,n=b.bc(3);b.zb(1),b.Bc(b.sc(7,D,t.fontSize+"pt",t.fontWeight,t.color,t.backgroundColor,t.width+"%",t.height+"px",t.borderWidth,t.borderColor)),b.Cb("",t.class," text-center"),b.ic("disabled",""!==n.message),b.zb(1),b.Gc(n.getText(t.text))}}const z=function(t,n,e,i){return{"background-color":t,color:n,"border-color":e,"border-width":i}};function k(t,n){if(1&t&&(b.Rb(0,"div",35),b.Rb(1,"label"),b.Fc(2),b.Qb(),b.Mb(3,"input",36),b.Qb()),2&t){const t=n.$implicit;b.zb(1),b.Cb("col-12 ",t.labelClass,""),b.zb(1),b.Gc(t.name),b.zb(1),b.Cb("col-12 ",t.class,""),b.jc("id",t.name),b.ic("placeholder",t.placeholder)("disabled",t.disabled)("ngStyle",b.oc(12,z,t.backgroundColor,t.textColor,t.borderColor,t.borderWidth))("required",t.required)}}function Q(t,n){if(1&t){const t=b.Sb();b.Rb(0,"form",31),b.Yb("submit",(function(n){b.wc(t);const e=b.bc().$implicit;return b.bc(3).sendForm(n,e)})),b.Rb(1,"div"),b.Dc(2,k,4,17,"div",32),b.Qb(),b.Rb(3,"div",33),b.Rb(4,"button",34),b.Fc(5,"Enviar"),b.Qb(),b.Qb(),b.Qb()}if(2&t){const t=b.bc().$implicit;b.zb(1),b.Cb("mt-2 ",t.class,""),b.zb(1),b.ic("ngForOf",t.inputs),b.zb(2),b.Cb("p-0 col-12 ",t.buttonClass,""),b.ic("ngStyle",b.oc(8,z,t.buttonBackgroundColor,t.buttonTextColor,t.buttonBorderColor,t.buttonBorderWidth+"px"))}}function F(t,n){if(1&t){const t=b.Sb();b.Rb(0,"img",39),b.Yb("click",(function(){b.wc(t);const e=n.$implicit;return b.bc(5).redirect(e.redirect)})),b.Qb()}if(2&t){const t=n.$implicit;b.Cb("row m-0 mt-2 ml-2 cursor ",t.class,""),b.ic("width",t.width)("src",t.image,b.yc)}}function I(t,n){if(1&t&&(b.Rb(0,"div",37),b.Dc(1,F,1,5,"img",38),b.Qb()),2&t){const t=b.bc().$implicit;b.zb(1),b.ic("ngForOf",t.icons)}}const x=function(t,n){return{"font-size":t,color:n}},M=function(){return{"min-width":"100%"}};function L(t,n){if(1&t){const t=b.Sb();b.Rb(0,"form",40),b.Yb("submit",(function(){b.wc(t);const n=b.bc().$implicit;return b.bc(3).sendCalendar(n)})),b.Rb(1,"label",41),b.Fc(2),b.Qb(),b.Rb(3,"p-calendar",42),b.Yb("onSelect",(function(n){return b.wc(t),b.bc(4).calendar=n})),b.Qb(),b.Rb(4,"div",43),b.Rb(5,"button",34),b.Fc(6,"Enviar"),b.Qb(),b.Qb(),b.Qb()}if(2&t){const t=b.bc().$implicit,n=b.bc(3);b.zb(1),b.ic("ngStyle",b.mc(17,x,t.labelFontSize+"pt",t.labelColor)),b.zb(1),b.Gc(t.label),b.zb(1),b.Bc(b.kc(20,M)),b.Cb("col-12 ",t.class,""),b.ic("maxDate",n.getMaxDate(t.maxDate))("required",!0)("inline",t.inline)("minDate",n.getMinDate(t.minToday))("panelStyle",b.kc(21,M))("inputStyle",b.oc(22,z,t.backgroundColor,t.textColor,t.borderColor,t.borderWidth)),b.zb(2),b.Cb("p-0 col-12 ",t.buttonClass,""),b.ic("ngStyle",b.oc(27,z,t.buttonBackgroundColor,t.buttonTextColor,t.buttonBorderColor,t.buttonBorderWidth+"px"))}}const j=function(t,n){return{"min-width":t,"max-width":n}};function P(t,n){if(1&t&&(b.Rb(0,"div",44),b.Mb(1,"video",45),b.Qb()),2&t){const t=b.bc().$implicit;b.zb(1),b.Bc(b.mc(5,j,t.width+"%",t.width+"%")),b.ic("src",t.src,b.yc)("autoplay",t.autoPlay)("height",t.height)}}function O(t,n){1&t&&(b.Rb(0,"div"),b.Fc(1,"output2"),b.Qb())}function B(t,n){if(1&t&&(b.Rb(0,"div",18),b.Pb(1,19),b.Dc(2,y,2,6,"div",20),b.Dc(3,R,3,10,"div",20),b.Dc(4,S,3,16,"div",21),b.Dc(5,Q,6,13,"form",22),b.Dc(6,I,2,1,"div",23),b.Dc(7,L,7,32,"form",24),b.Dc(8,P,2,8,"div",25),b.Dc(9,O,2,0,"div",26),b.Ob(),b.Qb()),2&t){const t=n.$implicit;b.zb(1),b.ic("ngSwitch",t.type),b.zb(1),b.ic("ngSwitchCase","Imagen"),b.zb(1),b.ic("ngSwitchCase","Texto"),b.zb(1),b.ic("ngSwitchCase","Boton"),b.zb(1),b.ic("ngSwitchCase","Formulario"),b.zb(1),b.ic("ngSwitchCase","Iconos"),b.zb(1),b.ic("ngSwitchCase","Calendario"),b.zb(1),b.ic("ngSwitchCase","Video")}}function E(t,n){if(1&t&&(b.Pb(0),b.Dc(1,B,10,8,"div",17),b.Ob()),2&t){const t=b.bc(2);b.zb(1),b.ic("ngForOf",t.landing.elements)}}function T(t,n){if(1&t&&(b.Pb(0),b.Rb(1,"div",11),b.Rb(2,"div",12),b.Fc(3),b.Qb(),b.Qb(),b.Ob()),2&t){const t=b.bc(2);b.zb(3),b.Hc(" ",t.response," ")}}const $=function(t,n){return{"background-image":t,"background-color":n}},_=function(t){return{"background-color":t}};function N(t,n){if(1&t&&(b.Rb(0,"div",3),b.Rb(1,"div",4),b.Rb(2,"div",5),b.Rb(3,"div",6),b.Dc(4,p,2,2,"div",7),b.Dc(5,w,7,5,"ng-container",8),b.Dc(6,E,2,1,"ng-container",8),b.Dc(7,T,4,1,"ng-container",8),b.Qb(),b.Qb(),b.Qb(),b.Qb()),2&t){const t=b.bc();b.zb(2),b.Bc(b.mc(8,$,"url("+t.landing.backgroundURL+")",t.landing.backgroundColor)),b.zb(1),b.Bc(b.lc(11,_,"rgba(0, 0, 0, "+t.landing.opacity/100+")")),b.zb(1),b.ic("ngIf",t.landing.logoURL),b.zb(1),b.ic("ngIf",!t.validation),b.zb(1),b.ic("ngIf",t.validation&&!t.response),b.zb(1),b.ic("ngIf",t.response)}}const Y=function(){return{"min-heigth":"400px"}};let G=(()=>{class t{constructor(t,n,e,i,c,o){this.route=t,this.general=n,this.adminLandingService=e,this.landingService=i,this.activatedRoute=c,this.router=o,this.subs=new s.a,this.validation=!1,this.invalidRut=!1,this.eventData=new r.a,this.modal=!1,this.message="",this.id=this.route.snapshot.paramMap.get("id"),this.urlID=this.route.snapshot.paramMap.get("urlID"),this.getDataLanding(),this.eventData.landingid=this.id}ngOnInit(){}saveEvent(t,n=null){var e;n&&(this.eventData.data.dataLanding=n),this.eventData.type=t,this.eventData.landingid=this.id||null,this.eventData.data.dataLanding=n||null,this.eventData.companyID=this.landing.companyid,this.eventData.urlID=this.urlID||null,this.eventData.url=window.location.href||null,this.eventData.shortURL=(null===(e=this.url)||void 0===e?void 0:e.shortUrl)||null,this.subs.add(this.landingService.saveEvent(this.eventData).subscribe())}getParametersURL(){this.subs.add(this.landingService.getParameters(this.urlID).subscribe(t=>{const n=t.data[0];this.url=n,this.params=n.parameters,this.general.c("getParametersURL",this.params),this.saveEvent("visit")}))}ngOnDestroy(){this.subs.unsubscribe()}getDataLanding(){this.subs.add(this.adminLandingService.getLandingByID(this.id).subscribe(t=>{this.landing=Object(o.a)(t.data),this.validation=!this.landing.validationRut,this.general.c(" GetDataLanding",this.landing),this.urlID&&this.getParametersURL()}))}validateRut(t){t&&t.length===this.landing.validationRutDigits&&(this.invalidRut=!1,String(this.params.rut).substr(0,this.landing.validationRutDigits)===t?(this.saveEvent("valid-rut",t),this.validation=!0):(this.saveEvent("invalid-rut",t),this.invalidRut=!0))}sendForm(t,n){let e={};for(let i=0;i<n.inputs.length;i++){const n=t.target[i];e[n.id]=n.value}if(e=Object.assign(Object.assign({},e),this.params),n.email){this.general.isLoad("1");const t=new a;t.dest=n.email,t.data=e,t.from=l.a.from,t.fromname=l.a.fromname,t.subject="Nuevo Formulario",t.type="1",this.subs.add(this.general.sendMail(t).subscribe(e=>{this.saveEvent("send-email",t),this.response=n.successMessage?n.successMessage:"Mensaje Enviado",this.general.isLoad("0")}))}return!1}getText(t){for(const n in this.params)t=t.replaceAll(`(${n})`,this.params[n]);return t}getMinDate(t){return t?new Date:null}getMaxDate(t){return new Date(t)}sendCalendar(t){const n=Object.assign(Object.assign({},this.params),{fecha:Object(i.x)(this.calendar,"dd/MM/yyyy","en")});if(t.email){this.general.isLoad("1");const e=new a;e.dest=t.email,e.data=n,e.from=l.a.from,e.fromname=l.a.fromname,e.subject="Nuevo Calendario",e.type="1",this.subs.add(this.general.sendMail(e).subscribe(n=>{this.saveEvent("send-calendar",e),this.response=t.successMessage?t.successMessage:"Mensaje Enviado",this.general.isLoad("0")}))}return!1}redirect(t){this.saveEvent("redirect",t),window.location.href=t}redirectButton(t){"link"===t.typeLink?(this.saveEvent("redirect-button",t.redirect),window.location.href=t.redirect):"sendEvent"===t.typeLink&&(this.saveEvent("click-button",{nameButton:t.text}),this.general.c("Seccess MSG",t.successMessage),this.modal=!0,this.message=t.successMessage)}}return t.\u0275fac=function(n){return new(n||t)(b.Lb(c.a),b.Lb(d.a),b.Lb(u.a),b.Lb(h.a),b.Lb(c.a),b.Lb(c.b))},t.\u0275cmp=b.Fb({type:t,selectors:[["app-landings"]],decls:4,vars:7,consts:[["class","cont",4,"ngIf"],["styleClass","col-11",3,"header","visible","visibleChange"],[1,"text-center"],[1,"cont"],[1,"background"],[1,"background-image"],[1,"p-4","dom"],["class","row m-0 justify-content-center align-items-center",4,"ngIf"],[4,"ngIf"],[1,"row","m-0","justify-content-center","align-items-center"],[1,"logo",3,"width","src"],[1,"bg-color4","rounded","mt-4","p-3"],[1,"col-12","row","justify-content-center","align-items-center"],[1,"col-12","text-center"],["type","number",1,"text-center",3,"ngClass","keyup"],["class","text-danger mt-1 ml-2",4,"ngIf"],[1,"text-danger","mt-1","ml-2"],["class","row m-0 justify-content-center",4,"ngFor","ngForOf"],[1,"row","m-0","justify-content-center"],[3,"ngSwitch"],["class","mt-2",4,"ngSwitchCase"],["class","row m-0 mt-2 col-12 p-0 justify-content-center align-items-center",4,"ngSwitchCase"],["class","mt-2 col-12",3,"submit",4,"ngSwitchCase"],["class","mt-2 col-12 row justify-content-center align-items-center",4,"ngSwitchCase"],["class","mt-2 col-12 p-0 m-0 row justify-content-center align-items-center",3,"submit",4,"ngSwitchCase"],["class","mt-2 col-12 row justify-content-center align-items-center w-100",4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"mt-2"],["height","auto",3,"src","alt","width","click"],[1,"row","m-0","mt-2","col-12","p-0","justify-content-center","align-items-center"],[3,"disabled","click"],[1,"mt-2","col-12",3,"submit"],["class","row m-0 mt-2",4,"ngFor","ngForOf"],[1,"mt-3"],["type","submit",3,"ngStyle"],[1,"row","m-0","mt-2"],["type","text",3,"id","placeholder","disabled","ngStyle","required"],[1,"mt-2","col-12","row","justify-content-center","align-items-center"],[3,"class","width","src","click",4,"ngFor","ngForOf"],[3,"width","src","click"],[1,"mt-2","col-12","p-0","m-0","row","justify-content-center","align-items-center",3,"submit"],[1,"text-center",3,"ngStyle"],["placeholder","","dateFormat","dd.mm.yy",3,"maxDate","required","inline","minDate","panelStyle","inputStyle","onSelect"],[1,"mt-3","col-12"],[1,"mt-2","col-12","row","justify-content-center","align-items-center","w-100"],["controls","",3,"src","autoplay","height"]],template:function(t,n){1&t&&(b.Dc(0,N,8,13,"div",0),b.Rb(1,"p-dialog",1),b.Yb("visibleChange",(function(t){return n.modal=t})),b.Rb(2,"h5",2),b.Fc(3),b.Qb(),b.Qb()),2&t&&(b.ic("ngIf",n.landing),b.zb(1),b.Bc(b.kc(6,Y)),b.ic("header","Informaci\xf3n")("visible",n.modal),b.zb(2),b.Gc(n.message))},directives:[i.m,g.a,i.k,i.l,i.o,i.p,i.q,i.n,m.a],styles:[".cont[_ngcontent-%COMP%]   .background-image[_ngcontent-%COMP%]{background-color:#000;min-width:100vw;background-size:cover;background-repeat:no-repeat;background-position:50%}.cont[_ngcontent-%COMP%]   .dom[_ngcontent-%COMP%]{min-width:100vw;min-height:100vh}button[_ngcontent-%COMP%]{min-height:38px;border-style:solid}"]}),t})();const A=[{path:":id",component:G},{path:":id/:urlID",component:G}];let U=(()=>{class t{}return t.\u0275mod=b.Jb({type:t}),t.\u0275inj=b.Ib({factory:function(n){return new(n||t)},imports:[[c.c.forChild(A)],c.c]}),t})(),q=(()=>{class t{}return t.\u0275mod=b.Jb({type:t}),t.\u0275inj=b.Ib({factory:function(n){return new(n||t)},imports:[[i.c,U,m.b,g.b]]}),t})()}}]);